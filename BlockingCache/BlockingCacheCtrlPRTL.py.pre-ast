Module(body=[
  Expr(value=Str(s='\n=========================================================================\n BlockingCacheCtrlPRTL.py\n=========================================================================\nParameterizable Pipelined Blocking Cache Control\n\nAuthor : Xiaoyu Yan (xy97), Eric Tang (et396)\nDate   : 15 November 2019\n')),
  Import(names=[alias(
    name='random',
    asname=None)]),
  ImportFrom(
    module='pymtl3',
    names=[alias(
      name='*',
      asname=None)],
    level=0),
  ImportFrom(
    module='pymtl3.stdlib.ifcs.MemMsg',
    names=[alias(
      name='MemMsgType',
      asname=None)],
    level=0),
  ImportFrom(
    module='pymtl3.stdlib.rtl.arithmetics',
    names=[alias(
      name='LShifter',
      asname=None)],
    level=0),
  ImportFrom(
    module='pymtl3.stdlib.rtl.registers',
    names=[
      alias(
        name='RegEnRst',
        asname=None),
      alias(
        name='RegRst',
        asname=None)],
    level=0),
  Assign(
    targets=[Name(
      id='STATE_GO',
      ctx=Store())],
    value=Call(
      func=Name(
        id='b3',
        ctx=Load()),
      args=[Num(n=0)],
      keywords=[])),
  Assign(
    targets=[Name(
      id='STATE_REFILL',
      ctx=Store())],
    value=Call(
      func=Name(
        id='b3',
        ctx=Load()),
      args=[Num(n=1)],
      keywords=[])),
  Assign(
    targets=[Name(
      id='STATE_EVICT',
      ctx=Store())],
    value=Call(
      func=Name(
        id='b3',
        ctx=Load()),
      args=[Num(n=2)],
      keywords=[])),
  Assign(
    targets=[Name(
      id='STATE_REFILL_WRITE',
      ctx=Store())],
    value=Call(
      func=Name(
        id='b3',
        ctx=Load()),
      args=[Num(n=3)],
      keywords=[])),
  Assign(
    targets=[
      Name(
        id='wr',
        ctx=Store()),
      Name(
        id='y',
        ctx=Store())],
    value=Call(
      func=Name(
        id='b1',
        ctx=Load()),
      args=[Num(n=1)],
      keywords=[])),
  Assign(
    targets=[
      Name(
        id='rd',
        ctx=Store()),
      Name(
        id='n',
        ctx=Store()),
      Name(
        id='x',
        ctx=Store())],
    value=Call(
      func=Name(
        id='b1',
        ctx=Load()),
      args=[Num(n=0)],
      keywords=[])),
  ClassDef(
    name='BlockingCacheCtrlPRTL',
    bases=[Name(
      id='Component',
      ctx=Load())],
    keywords=[],
    body=[
      FunctionDef(
        name='construct',
        args=arguments(
          args=[
            arg(
              arg='s',
              annotation=None),
            arg(
              arg='dbw',
              annotation=None),
            arg(
              arg='ofw',
              annotation=None),
            arg(
              arg='BitsAddr',
              annotation=None),
            arg(
              arg='BitsOpaque',
              annotation=None),
            arg(
              arg='BitsType',
              annotation=None),
            arg(
              arg='BitsData',
              annotation=None),
            arg(
              arg='BitsCacheline',
              annotation=None),
            arg(
              arg='BitsIdx',
              annotation=None),
            arg(
              arg='BitsTag',
              annotation=None),
            arg(
              arg='BitsOffset',
              annotation=None),
            arg(
              arg='BitsTagWben',
              annotation=None),
            arg(
              arg='BitsDataWben',
              annotation=None),
            arg(
              arg='BitsRdDataMux',
              annotation=None),
            arg(
              arg='twb',
              annotation=None),
            arg(
              arg='dwb',
              annotation=None),
            arg(
              arg='rmx2',
              annotation=None)],
          vararg=None,
          kwonlyargs=[],
          kw_defaults=[],
          kwarg=None,
          defaults=[
            Num(n=32),
            Num(n=4),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Str(s='inv'),
            Num(n=4),
            Num(n=16),
            Num(n=3)]),
        body=[
          Assign(
            targets=[Name(
              id='mxsel0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsRdDataMux',
                ctx=Load()),
              args=[Num(n=0)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='wben0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsDataWben',
                ctx=Load()),
              args=[Num(n=0)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='wbenf',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsDataWben',
                ctx=Load()),
              args=[UnaryOp(
                op=USub(),
                operand=Num(n=1))],
              keywords=[])),
          Assign(
            targets=[Name(
              id='tg_wbenf',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsTagWben',
                ctx=Load()),
              args=[UnaryOp(
                op=USub(),
                operand=Num(n=1))],
              keywords=[])),
          Assign(
            targets=[Name(
              id='data_array_wb_mask',
              ctx=Store())],
            value=BinOp(
              left=BinOp(
                left=Num(n=2),
                op=Pow(),
                right=BinOp(
                  left=Name(
                    id='dbw',
                    ctx=Load()),
                  op=FloorDiv(),
                  right=Num(n=8))),
              op=Sub(),
              right=Num(n=1))),
          Assign(
            targets=[Name(
              id='READ',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsType',
                ctx=Load()),
              args=[Attribute(
                value=Name(
                  id='MemMsgType',
                  ctx=Load()),
                attr='READ',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Name(
              id='WRITE',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsType',
                ctx=Load()),
              args=[Attribute(
                value=Name(
                  id='MemMsgType',
                  ctx=Load()),
                attr='WRITE',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Name(
              id='INIT',
              ctx=Store())],
            value=Call(
              func=Name(
                id='BitsType',
                ctx=Load()),
              args=[Attribute(
                value=Name(
                  id='MemMsgType',
                  ctx=Load()),
                attr='WRITE_INIT',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cachereq_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cachereq_rdy',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cacheresp_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cacheresp_rdy',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memreq_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memreq_rdy',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memresp_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memresp_rdy',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cachereq_type_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memresp_type_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='MSHR_type',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memresp_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='addr_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits2',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='wdata_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits2',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='tag_array_val_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='tag_array_type_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='tag_array_wben_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='BitsTagWben',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ctrl_bit_val_wr_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ctrl_bit_dty_wr_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='reg_en_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cachereq_type_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ctrl_bit_val_rd_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ctrl_bit_dty_rd_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='tag_match_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='offset_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsOffset',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='reg_en_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='data_array_val_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='data_array_type_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='data_array_wben_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='BitsDataWben',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='reg_en_MSHR',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='evict_mux_sel_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cachereq_type_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='offset_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='InPort',
                ctx=Load()),
              args=[Name(
                id='BitsOffset',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='reg_en_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='read_data_mux_sel_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Call(
                func=Name(
                  id='mk_bits',
                  ctx=Load()),
                args=[Call(
                  func=Name(
                    id='clog2',
                    ctx=Load()),
                  args=[Num(n=2)],
                  keywords=[])],
                keywords=[])],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='read_word_mux_sel_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='BitsRdDataMux',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='hit_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='Bits2',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='memreq_type',
              ctx=Store())],
            value=Call(
              func=Name(
                id='OutPort',
                ctx=Load()),
              args=[Name(
                id='BitsType',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='hit_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='stall_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='stall_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='stall_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ostall_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ostall_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='ostall_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='curr_state',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits3',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='next_state',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits3',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_evict_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='state_transition_block',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[
                  Name(
                    id='Bits3',
                    ctx=Load()),
                  Name(
                    id='STATE_GO',
                    ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='curr_state',
                    ctx=Load())),
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='next_state',
                    ctx=Load()))])),
          FunctionDef(
            name='next_state_block',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='next_state',
                  ctx=Store())],
                value=Name(
                  id='STATE_GO',
                  ctx=Load())),
              If(
                test=Compare(
                  left=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='curr_state',
                    ctx=Load()),
                  ops=[Eq()],
                  comparators=[Name(
                    id='STATE_GO',
                    ctx=Load())]),
                body=[If(
                  test=BoolOp(
                    op=And(),
                    values=[
                      Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='val_M1',
                        ctx=Load()),
                      UnaryOp(
                        op=Invert(),
                        operand=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='is_refill_M1',
                          ctx=Load())),
                      Compare(
                        left=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cachereq_type_M1',
                          ctx=Load()),
                        ops=[NotEq()],
                        comparators=[Name(
                          id='INIT',
                          ctx=Load())])]),
                  body=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M1',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='next_state',
                        ctx=Store())],
                      value=Name(
                        id='STATE_EVICT',
                        ctx=Load()))],
                    orelse=[If(
                      test=UnaryOp(
                        op=Invert(),
                        operand=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='hit_M1',
                          ctx=Load())),
                      body=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='next_state',
                          ctx=Store())],
                        value=Name(
                          id='STATE_REFILL',
                          ctx=Load()))],
                      orelse=[])])],
                  orelse=[])],
                orelse=[If(
                  test=Compare(
                    left=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='curr_state',
                      ctx=Load()),
                    ops=[Eq()],
                    comparators=[Name(
                      id='STATE_REFILL',
                      ctx=Load())]),
                  body=[If(
                    test=BoolOp(
                      op=And(),
                      values=[
                        Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='is_refill_M0',
                          ctx=Load()),
                        Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='memresp_type_M0',
                            ctx=Load()),
                          ops=[NotEq()],
                          comparators=[Name(
                            id='WRITE',
                            ctx=Load())])]),
                    body=[If(
                      test=Compare(
                        left=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='MSHR_type',
                          ctx=Load()),
                        ops=[Eq()],
                        comparators=[Name(
                          id='WRITE',
                          ctx=Load())]),
                      body=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='next_state',
                          ctx=Store())],
                        value=Name(
                          id='STATE_REFILL_WRITE',
                          ctx=Load()))],
                      orelse=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='next_state',
                          ctx=Store())],
                        value=Name(
                          id='STATE_GO',
                          ctx=Load()))])],
                    orelse=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='next_state',
                        ctx=Store())],
                      value=Name(
                        id='STATE_REFILL',
                        ctx=Load()))])],
                  orelse=[If(
                    test=Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='curr_state',
                        ctx=Load()),
                      ops=[Eq()],
                      comparators=[Name(
                        id='STATE_EVICT',
                        ctx=Load())]),
                    body=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='next_state',
                        ctx=Store())],
                      value=Name(
                        id='STATE_REFILL',
                        ctx=Load()))],
                    orelse=[If(
                      test=Compare(
                        left=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='curr_state',
                          ctx=Load()),
                        ops=[Eq()],
                        comparators=[Name(
                          id='STATE_REFILL_WRITE',
                          ctx=Load())]),
                      body=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='next_state',
                          ctx=Store())],
                        value=Name(
                          id='STATE_GO',
                          ctx=Load()))],
                      orelse=[])])])])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          FunctionDef(
            name='mem_resp_rdy',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[If(
              test=Compare(
                left=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='curr_state',
                  ctx=Load()),
                ops=[Eq()],
                comparators=[Name(
                  id='STATE_REFILL',
                  ctx=Load())]),
              body=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='memresp_rdy',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=1)],
                  keywords=[]))],
              orelse=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='memresp_rdy',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[]))])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_hit_clean_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_refill_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_reg_M0',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='memresp_en',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M0',
                    ctx=Load()))])),
          FunctionDef(
            name='cachereq_logic',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='cachereq_rdy',
                  ctx=Store())],
                value=BoolOp(
                  op=And(),
                  values=[
                    UnaryOp(
                      op=Invert(),
                      operand=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='stall_M1',
                        ctx=Load())),
                    Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='curr_state',
                        ctx=Load()),
                      ops=[Eq()],
                      comparators=[Name(
                        id='STATE_GO',
                        ctx=Load())]),
                    Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='next_state',
                        ctx=Load()),
                      ops=[NotEq()],
                      comparators=[Name(
                        id='STATE_REFILL',
                        ctx=Load())]),
                    Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='next_state',
                        ctx=Load()),
                      ops=[NotEq()],
                      comparators=[Name(
                        id='STATE_EVICT',
                        ctx=Load())]),
                    Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='curr_state',
                        ctx=Load()),
                      ops=[NotEq()],
                      comparators=[Name(
                        id='STATE_REFILL_WRITE',
                        ctx=Load())])])),
              If(
                test=BoolOp(
                  op=And(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='val_M1',
                      ctx=Load()),
                    Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cachereq_type_M1',
                        ctx=Load()),
                      ops=[Eq()],
                      comparators=[Name(
                        id='WRITE',
                        ctx=Load())]),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_hit_clean_M0',
                      ctx=Load())]),
                body=[Assign(
                  targets=[Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cachereq_rdy',
                    ctx=Store())],
                  value=BoolOp(
                    op=And(),
                    values=[
                      Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cachereq_rdy',
                        ctx=Load()),
                      Name(
                        id='n',
                        ctx=Load())]))],
                orelse=[])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          FunctionDef(
            name='is_write_refill',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[If(
              test=Compare(
                left=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='curr_state',
                  ctx=Load()),
                ops=[Eq()],
                comparators=[Name(
                  id='STATE_REFILL_WRITE',
                  ctx=Load())]),
              body=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_refill_M0',
                  ctx=Store())],
                value=Name(
                  id='y',
                  ctx=Load()))],
              orelse=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_refill_M0',
                  ctx=Store())],
                value=Name(
                  id='n',
                  ctx=Load()))])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Name(
              id='CS_tag_array_wben_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=9),
                BinOp(
                  left=Num(n=9),
                  op=Add(),
                  right=Name(
                    id='twb',
                    ctx=Load()))],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_wdata_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=7),
                Num(n=9)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_addr_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=5),
                Num(n=7)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_memresp_mux_sel_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=4),
                Num(n=5)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_tag_array_type_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=3),
                Num(n=4)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_tag_array_val_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=2),
                Num(n=3)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_ctrl_bit_dty_wr_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=1),
                Num(n=2)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_ctrl_bit_val_wr_M0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=0),
                Num(n=1)],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cs0',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Call(
                func=Name(
                  id='mk_bits',
                  ctx=Load()),
                args=[BinOp(
                  left=Num(n=9),
                  op=Add(),
                  right=Name(
                    id='twb',
                    ctx=Load()))],
                keywords=[])],
              keywords=[])),
          FunctionDef(
            name='comb_block_M0',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='val_M0',
                  ctx=Store())],
                value=BoolOp(
                  op=Or(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='cachereq_en',
                      ctx=Load()),
                    BoolOp(
                      op=And(),
                      values=[
                        Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='is_refill_M0',
                          ctx=Load()),
                        Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='memresp_type_M0',
                            ctx=Load()),
                          ops=[NotEq()],
                          comparators=[Name(
                            id='WRITE',
                            ctx=Load())])]),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M0',
                      ctx=Load()),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_hit_clean_M0',
                      ctx=Load())])),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ostall_M0',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[])),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='stall_M0',
                  ctx=Store())],
                value=BoolOp(
                  op=Or(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ostall_M0',
                      ctx=Load()),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ostall_M1',
                      ctx=Load()),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ostall_M2',
                      ctx=Load())])),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='reg_en_M0',
                  ctx=Store())],
                value=BoolOp(
                  op=And(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='memresp_en',
                      ctx=Load()),
                    UnaryOp(
                      op=Invert(),
                      operand=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='stall_M0',
                        ctx=Load()))])),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='cs0',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='concat',
                    ctx=Load()),
                  args=[
                    Name(
                      id='tg_wbenf',
                      ctx=Load()),
                    Call(
                      func=Name(
                        id='b2',
                        ctx=Load()),
                      args=[Num(n=0)],
                      keywords=[]),
                    Call(
                      func=Name(
                        id='b2',
                        ctx=Load()),
                      args=[Num(n=0)],
                      keywords=[]),
                    Name(
                      id='x',
                      ctx=Load()),
                    Name(
                      id='rd',
                      ctx=Load()),
                    Name(
                      id='n',
                      ctx=Load()),
                    Name(
                      id='x',
                      ctx=Load()),
                    Name(
                      id='x',
                      ctx=Load())],
                  keywords=[])),
              If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='val_M0',
                  ctx=Load()),
                body=[If(
                  test=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M0',
                    ctx=Load()),
                  body=[Assign(
                    targets=[Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='cs0',
                      ctx=Store())],
                    value=Call(
                      func=Name(
                        id='concat',
                        ctx=Load()),
                      args=[
                        Name(
                          id='tg_wbenf',
                          ctx=Load()),
                        Call(
                          func=Name(
                            id='b2',
                            ctx=Load()),
                          args=[Num(n=1)],
                          keywords=[]),
                        Call(
                          func=Name(
                            id='b2',
                            ctx=Load()),
                          args=[Num(n=1)],
                          keywords=[]),
                        Call(
                          func=Name(
                            id='b1',
                            ctx=Load()),
                          args=[Num(n=1)],
                          keywords=[]),
                        Name(
                          id='wr',
                          ctx=Load()),
                        Name(
                          id='y',
                          ctx=Load()),
                        Name(
                          id='n',
                          ctx=Load()),
                        Name(
                          id='y',
                          ctx=Load())],
                      keywords=[]))],
                  orelse=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M0',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cs0',
                        ctx=Store())],
                      value=Call(
                        func=Name(
                          id='concat',
                          ctx=Load()),
                        args=[
                          Name(
                            id='tg_wbenf',
                            ctx=Load()),
                          Call(
                            func=Name(
                              id='b2',
                              ctx=Load()),
                            args=[Num(n=2)],
                            keywords=[]),
                          Call(
                            func=Name(
                              id='b2',
                              ctx=Load()),
                            args=[Num(n=1)],
                            keywords=[]),
                          Call(
                            func=Name(
                              id='b1',
                              ctx=Load()),
                            args=[Num(n=1)],
                            keywords=[]),
                          Name(
                            id='wr',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load())],
                        keywords=[]))],
                    orelse=[If(
                      test=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='is_write_hit_clean_M0',
                        ctx=Load()),
                      body=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cs0',
                          ctx=Store())],
                        value=Call(
                          func=Name(
                            id='concat',
                            ctx=Load()),
                          args=[
                            Name(
                              id='tg_wbenf',
                              ctx=Load()),
                            Call(
                              func=Name(
                                id='b2',
                                ctx=Load()),
                              args=[Num(n=0)],
                              keywords=[]),
                            Call(
                              func=Name(
                                id='b2',
                                ctx=Load()),
                              args=[Num(n=2)],
                              keywords=[]),
                            Call(
                              func=Name(
                                id='b1',
                                ctx=Load()),
                              args=[Num(n=0)],
                              keywords=[]),
                            Name(
                              id='wr',
                              ctx=Load()),
                            Name(
                              id='y',
                              ctx=Load()),
                            Name(
                              id='y',
                              ctx=Load()),
                            Name(
                              id='y',
                              ctx=Load())],
                          keywords=[]))],
                      orelse=[If(
                        test=Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M0',
                            ctx=Load()),
                          ops=[Eq()],
                          comparators=[Name(
                            id='INIT',
                            ctx=Load())]),
                        body=[Assign(
                          targets=[Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cs0',
                            ctx=Store())],
                          value=Call(
                            func=Name(
                              id='concat',
                              ctx=Load()),
                            args=[
                              Name(
                                id='tg_wbenf',
                                ctx=Load()),
                              Call(
                                func=Name(
                                  id='b2',
                                  ctx=Load()),
                                args=[Num(n=0)],
                                keywords=[]),
                              Call(
                                func=Name(
                                  id='b2',
                                  ctx=Load()),
                                args=[Num(n=0)],
                                keywords=[]),
                              Call(
                                func=Name(
                                  id='b1',
                                  ctx=Load()),
                                args=[Num(n=0)],
                                keywords=[]),
                              Name(
                                id='wr',
                                ctx=Load()),
                              Name(
                                id='y',
                                ctx=Load()),
                              Name(
                                id='n',
                                ctx=Load()),
                              Name(
                                id='y',
                                ctx=Load())],
                            keywords=[]))],
                        orelse=[If(
                          test=Compare(
                            left=Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cachereq_type_M0',
                              ctx=Load()),
                            ops=[Eq()],
                            comparators=[Name(
                              id='READ',
                              ctx=Load())]),
                          body=[Assign(
                            targets=[Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cs0',
                              ctx=Store())],
                            value=Call(
                              func=Name(
                                id='concat',
                                ctx=Load()),
                              args=[
                                Name(
                                  id='tg_wbenf',
                                  ctx=Load()),
                                Call(
                                  func=Name(
                                    id='b2',
                                    ctx=Load()),
                                  args=[Num(n=0)],
                                  keywords=[]),
                                Call(
                                  func=Name(
                                    id='b2',
                                    ctx=Load()),
                                  args=[Num(n=0)],
                                  keywords=[]),
                                Call(
                                  func=Name(
                                    id='b1',
                                    ctx=Load()),
                                  args=[Num(n=0)],
                                  keywords=[]),
                                Name(
                                  id='rd',
                                  ctx=Load()),
                                Name(
                                  id='y',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load())],
                              keywords=[]))],
                          orelse=[If(
                            test=Compare(
                              left=Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='cachereq_type_M0',
                                ctx=Load()),
                              ops=[Eq()],
                              comparators=[Name(
                                id='WRITE',
                                ctx=Load())]),
                            body=[Assign(
                              targets=[Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='cs0',
                                ctx=Store())],
                              value=Call(
                                func=Name(
                                  id='concat',
                                  ctx=Load()),
                                args=[
                                  Name(
                                    id='tg_wbenf',
                                    ctx=Load()),
                                  Call(
                                    func=Name(
                                      id='b2',
                                      ctx=Load()),
                                    args=[Num(n=0)],
                                    keywords=[]),
                                  Call(
                                    func=Name(
                                      id='b2',
                                      ctx=Load()),
                                    args=[Num(n=0)],
                                    keywords=[]),
                                  Call(
                                    func=Name(
                                      id='b1',
                                      ctx=Load()),
                                    args=[Num(n=0)],
                                    keywords=[]),
                                  Name(
                                    id='rd',
                                    ctx=Load()),
                                  Name(
                                    id='y',
                                    ctx=Load()),
                                  Name(
                                    id='n',
                                    ctx=Load()),
                                  Name(
                                    id='n',
                                    ctx=Load())],
                                keywords=[]))],
                            orelse=[])])])])])])],
                orelse=[]),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='tag_array_type_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_tag_array_type_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='tag_array_val_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_tag_array_val_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='tag_array_wben_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_tag_array_wben_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='wdata_mux_sel_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_wdata_mux_sel_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='memresp_mux_sel_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_memresp_mux_sel_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='addr_mux_sel_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_addr_mux_sel_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ctrl_bit_dty_wr_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_ctrl_bit_dty_wr_M0',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ctrl_bit_val_wr_M0',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs0',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_ctrl_bit_val_wr_M0',
                    ctx=Load())),
                  ctx=Load()))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_refill_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_hit_clean_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_reg_M1',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegEnRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='en',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='reg_en_M1',
                    ctx=Load())),
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='val_M0',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='val_M1',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_reg_M1',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M0',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M1',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_refill_reg_M1',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_refill_M0',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_refill_M1',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_hit_clean_reg_M1',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_hit_clean_M0',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_hit_clean_M1',
                    ctx=Load()))])),
          FunctionDef(
            name='hit_logic_M1',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='hit_M1',
                  ctx=Store())],
                value=BoolOp(
                  op=Or(),
                  values=[
                    BoolOp(
                      op=And(),
                      values=[
                        Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='tag_match_M1',
                          ctx=Load()),
                        Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='ctrl_bit_val_rd_M1',
                          ctx=Load()),
                        Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M1',
                            ctx=Load()),
                          ops=[NotEq()],
                          comparators=[Name(
                            id='INIT',
                            ctx=Load())])]),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M1',
                      ctx=Load())])),
              If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_hit_clean_M1',
                  ctx=Load()),
                body=[Assign(
                  targets=[Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='hit_M1',
                    ctx=Store())],
                  value=BoolOp(
                    op=Or(),
                    values=[
                      Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='hit_M1',
                        ctx=Load()),
                      Call(
                        func=Name(
                          id='b1',
                          ctx=Load()),
                        args=[Num(n=1)],
                        keywords=[])]))],
                orelse=[]),
              Assign(
                targets=[Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='hit_M2',
                    ctx=Load()),
                  slice=Index(value=Num(n=1)),
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[]))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='wben_out',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='BitsDataWben',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='wben_in',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='BitsDataWben',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='WbenGen',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='LShifter',
                  ctx=Load()),
                args=[
                  Name(
                    id='BitsDataWben',
                    ctx=Load()),
                  Call(
                    func=Name(
                      id='clog2',
                      ctx=Load()),
                    args=[Name(
                      id='dwb',
                      ctx=Load())],
                    keywords=[])],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='wben_in',
                    ctx=Load())),
                keyword(
                  arg='shamt',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='offset_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='wben_out',
                    ctx=Load()))])),
          FunctionDef(
            name='en_MSHR',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[If(
              test=BoolOp(
                op=And(),
                values=[
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='hit_M1',
                      ctx=Load())),
                  UnaryOp(
                    op=Not(),
                    operand=Compare(
                      left=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='curr_state',
                        ctx=Load()),
                      ops=[Eq()],
                      comparators=[Name(
                        id='STATE_REFILL',
                        ctx=Load())])),
                  UnaryOp(
                    op=Invert(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M1',
                      ctx=Load()))]),
              body=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='reg_en_MSHR',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=1)],
                  keywords=[]))],
              orelse=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='reg_en_MSHR',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[]))])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          FunctionDef(
            name='is_write_hit_clean_M0_logic',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[If(
              test=BoolOp(
                op=And(),
                values=[
                  Compare(
                    left=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='cachereq_type_M1',
                      ctx=Load()),
                    ops=[Eq()],
                    comparators=[Name(
                      id='WRITE',
                      ctx=Load())]),
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='hit_M1',
                    ctx=Load()),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ctrl_bit_dty_rd_M1',
                      ctx=Load())),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_hit_clean_M1',
                      ctx=Load())),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M1',
                      ctx=Load()))]),
              body=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_hit_clean_M0',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=1)],
                  keywords=[]))],
              orelse=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_hit_clean_M0',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[]))])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          FunctionDef(
            name='need_evict_M1',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[If(
              test=BoolOp(
                op=And(),
                values=[
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='val_M1',
                    ctx=Load()),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M1',
                      ctx=Load())),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='hit_M1',
                      ctx=Load())),
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='ctrl_bit_dty_rd_M1',
                    ctx=Load())]),
              body=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_evict_M1',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=1)],
                  keywords=[]))],
              orelse=[Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_evict_M1',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='b1',
                    ctx=Load()),
                  args=[Num(n=0)],
                  keywords=[]))])],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          FunctionDef(
            name='en_M1',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[Assign(
              targets=[Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='reg_en_M1',
                ctx=Store())],
              value=BoolOp(
                op=And(),
                values=[
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='stall_M1',
                      ctx=Load())),
                  UnaryOp(
                    op=Not(),
                    operand=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M1',
                      ctx=Load()))]))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Name(
              id='CS_data_array_wben_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=4),
                BinOp(
                  left=Num(n=4),
                  op=Add(),
                  right=Name(
                    id='dwb',
                    ctx=Load()))],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_data_array_type_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=3),
                Num(n=4)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_data_array_val_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=2),
                Num(n=3)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_ostall_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=1),
                Num(n=2)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_evict_mux_sel_M1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=0),
                Num(n=1)],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cs1',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Call(
                func=Name(
                  id='mk_bits',
                  ctx=Load()),
                args=[BinOp(
                  left=Num(n=4),
                  op=Add(),
                  right=Name(
                    id='dwb',
                    ctx=Load()))],
                keywords=[])],
              keywords=[])),
          FunctionDef(
            name='comb_block_M1',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='wben_in',
                  ctx=Store())],
                value=Call(
                  func=Name(
                    id='BitsDataWben',
                    ctx=Load()),
                  args=[Name(
                    id='data_array_wb_mask',
                    ctx=Load())],
                  keywords=[])),
              Assign(
                targets=[Name(
                  id='wben',
                  ctx=Store())],
                value=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='wben_out',
                  ctx=Load())),
              If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='val_M1',
                  ctx=Load()),
                body=[If(
                  test=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M1',
                    ctx=Load()),
                  body=[Assign(
                    targets=[Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='cs1',
                      ctx=Store())],
                    value=Call(
                      func=Name(
                        id='concat',
                        ctx=Load()),
                      args=[
                        Name(
                          id='wbenf',
                          ctx=Load()),
                        Name(
                          id='wr',
                          ctx=Load()),
                        Name(
                          id='y',
                          ctx=Load()),
                        Name(
                          id='n',
                          ctx=Load()),
                        Call(
                          func=Name(
                            id='b1',
                            ctx=Load()),
                          args=[Num(n=0)],
                          keywords=[])],
                      keywords=[]))],
                  orelse=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M1',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cs1',
                        ctx=Store())],
                      value=Call(
                        func=Name(
                          id='concat',
                          ctx=Load()),
                        args=[
                          Name(
                            id='wben0',
                            ctx=Load()),
                          Name(
                            id='rd',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load()),
                          Call(
                            func=Name(
                              id='b1',
                              ctx=Load()),
                            args=[Num(n=1)],
                            keywords=[])],
                        keywords=[]))],
                    orelse=[If(
                      test=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='is_write_hit_clean_M1',
                        ctx=Load()),
                      body=[Assign(
                        targets=[Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cs1',
                          ctx=Store())],
                        value=Call(
                          func=Name(
                            id='concat',
                            ctx=Load()),
                          args=[
                            Name(
                              id='wbenf',
                              ctx=Load()),
                            Name(
                              id='x',
                              ctx=Load()),
                            Name(
                              id='n',
                              ctx=Load()),
                            Name(
                              id='n',
                              ctx=Load()),
                            Call(
                              func=Name(
                                id='b1',
                                ctx=Load()),
                              args=[Num(n=0)],
                              keywords=[])],
                          keywords=[]))],
                      orelse=[If(
                        test=Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M1',
                            ctx=Load()),
                          ops=[Eq()],
                          comparators=[Name(
                            id='INIT',
                            ctx=Load())]),
                        body=[Assign(
                          targets=[Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cs1',
                            ctx=Store())],
                          value=Call(
                            func=Name(
                              id='concat',
                              ctx=Load()),
                            args=[
                              Name(
                                id='wben',
                                ctx=Load()),
                              Name(
                                id='wr',
                                ctx=Load()),
                              Name(
                                id='y',
                                ctx=Load()),
                              Name(
                                id='n',
                                ctx=Load()),
                              Call(
                                func=Name(
                                  id='b1',
                                  ctx=Load()),
                                args=[Num(n=0)],
                                keywords=[])],
                            keywords=[]))],
                        orelse=[If(
                          test=BoolOp(
                            op=And(),
                            values=[
                              UnaryOp(
                                op=Invert(),
                                operand=Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='hit_M1',
                                  ctx=Load())),
                              UnaryOp(
                                op=Invert(),
                                operand=Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='ctrl_bit_dty_rd_M1',
                                  ctx=Load()))]),
                          body=[Assign(
                            targets=[Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cs1',
                              ctx=Store())],
                            value=Call(
                              func=Name(
                                id='concat',
                                ctx=Load()),
                              args=[
                                Name(
                                  id='wben0',
                                  ctx=Load()),
                                Name(
                                  id='x',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Call(
                                  func=Name(
                                    id='b1',
                                    ctx=Load()),
                                  args=[Num(n=0)],
                                  keywords=[])],
                              keywords=[]))],
                          orelse=[If(
                            test=BoolOp(
                              op=And(),
                              values=[
                                UnaryOp(
                                  op=Invert(),
                                  operand=Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='hit_M1',
                                    ctx=Load())),
                                Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='ctrl_bit_dty_rd_M1',
                                  ctx=Load())]),
                            body=[Assign(
                              targets=[Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='cs1',
                                ctx=Store())],
                              value=Call(
                                func=Name(
                                  id='concat',
                                  ctx=Load()),
                                args=[
                                  Name(
                                    id='wben0',
                                    ctx=Load()),
                                  Name(
                                    id='x',
                                    ctx=Load()),
                                  Name(
                                    id='n',
                                    ctx=Load()),
                                  Name(
                                    id='n',
                                    ctx=Load()),
                                  Call(
                                    func=Name(
                                      id='b1',
                                      ctx=Load()),
                                    args=[Num(n=0)],
                                    keywords=[])],
                                keywords=[]))],
                            orelse=[If(
                              test=BoolOp(
                                op=And(),
                                values=[
                                  Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='hit_M1',
                                    ctx=Load()),
                                  UnaryOp(
                                    op=Invert(),
                                    operand=Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='ctrl_bit_dty_rd_M1',
                                      ctx=Load()))]),
                              body=[If(
                                test=Compare(
                                  left=Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='cachereq_type_M1',
                                    ctx=Load()),
                                  ops=[Eq()],
                                  comparators=[Name(
                                    id='READ',
                                    ctx=Load())]),
                                body=[Assign(
                                  targets=[Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='cs1',
                                    ctx=Store())],
                                  value=Call(
                                    func=Name(
                                      id='concat',
                                      ctx=Load()),
                                    args=[
                                      Name(
                                        id='wben0',
                                        ctx=Load()),
                                      Name(
                                        id='rd',
                                        ctx=Load()),
                                      Name(
                                        id='y',
                                        ctx=Load()),
                                      Name(
                                        id='n',
                                        ctx=Load()),
                                      Call(
                                        func=Name(
                                          id='b1',
                                          ctx=Load()),
                                        args=[Num(n=0)],
                                        keywords=[])],
                                    keywords=[]))],
                                orelse=[If(
                                  test=Compare(
                                    left=Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cachereq_type_M1',
                                      ctx=Load()),
                                    ops=[Eq()],
                                    comparators=[Name(
                                      id='WRITE',
                                      ctx=Load())]),
                                  body=[Assign(
                                    targets=[Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cs1',
                                      ctx=Store())],
                                    value=Call(
                                      func=Name(
                                        id='concat',
                                        ctx=Load()),
                                      args=[
                                        Name(
                                          id='wben',
                                          ctx=Load()),
                                        Name(
                                          id='wr',
                                          ctx=Load()),
                                        Name(
                                          id='y',
                                          ctx=Load()),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Call(
                                          func=Name(
                                            id='b1',
                                            ctx=Load()),
                                          args=[Num(n=0)],
                                          keywords=[])],
                                      keywords=[]))],
                                  orelse=[Assign(
                                    targets=[Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cs1',
                                      ctx=Store())],
                                    value=Call(
                                      func=Name(
                                        id='concat',
                                        ctx=Load()),
                                      args=[
                                        Name(
                                          id='wben0',
                                          ctx=Load()),
                                        Name(
                                          id='x',
                                          ctx=Load()),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Call(
                                          func=Name(
                                            id='b1',
                                            ctx=Load()),
                                          args=[Num(n=0)],
                                          keywords=[])],
                                      keywords=[]))])])],
                              orelse=[If(
                                test=BoolOp(
                                  op=And(),
                                  values=[
                                    Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='hit_M1',
                                      ctx=Load()),
                                    Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='ctrl_bit_dty_rd_M1',
                                      ctx=Load())]),
                                body=[If(
                                  test=Compare(
                                    left=Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cachereq_type_M1',
                                      ctx=Load()),
                                    ops=[Eq()],
                                    comparators=[Name(
                                      id='READ',
                                      ctx=Load())]),
                                  body=[Assign(
                                    targets=[Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cs1',
                                      ctx=Store())],
                                    value=Call(
                                      func=Name(
                                        id='concat',
                                        ctx=Load()),
                                      args=[
                                        Name(
                                          id='wben0',
                                          ctx=Load()),
                                        Name(
                                          id='rd',
                                          ctx=Load()),
                                        Name(
                                          id='y',
                                          ctx=Load()),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Call(
                                          func=Name(
                                            id='b1',
                                            ctx=Load()),
                                          args=[Num(n=0)],
                                          keywords=[])],
                                      keywords=[]))],
                                  orelse=[If(
                                    test=Compare(
                                      left=Attribute(
                                        value=Name(
                                          id='s',
                                          ctx=Load()),
                                        attr='cachereq_type_M1',
                                        ctx=Load()),
                                      ops=[Eq()],
                                      comparators=[Name(
                                        id='WRITE',
                                        ctx=Load())]),
                                    body=[Assign(
                                      targets=[Attribute(
                                        value=Name(
                                          id='s',
                                          ctx=Load()),
                                        attr='cs1',
                                        ctx=Store())],
                                      value=Call(
                                        func=Name(
                                          id='concat',
                                          ctx=Load()),
                                        args=[
                                          Name(
                                            id='wben',
                                            ctx=Load()),
                                          Name(
                                            id='wr',
                                            ctx=Load()),
                                          Name(
                                            id='y',
                                            ctx=Load()),
                                          Name(
                                            id='n',
                                            ctx=Load()),
                                          Call(
                                            func=Name(
                                              id='b1',
                                              ctx=Load()),
                                            args=[Num(n=0)],
                                            keywords=[])],
                                        keywords=[]))],
                                    orelse=[])])],
                                orelse=[])])])])])])])])],
                orelse=[Assign(
                  targets=[Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Store())],
                  value=Call(
                    func=Name(
                      id='concat',
                      ctx=Load()),
                    args=[
                      Name(
                        id='wben0',
                        ctx=Load()),
                      Name(
                        id='x',
                        ctx=Load()),
                      Name(
                        id='n',
                        ctx=Load()),
                      Name(
                        id='n',
                        ctx=Load()),
                      Call(
                        func=Name(
                          id='b1',
                          ctx=Load()),
                        args=[Num(n=0)],
                        keywords=[])],
                    keywords=[]))]),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='data_array_type_M1',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_data_array_type_M1',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='data_array_val_M1',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_data_array_val_M1',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='data_array_wben_M1',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_data_array_wben_M1',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ostall_M1',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_ostall_M1',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='evict_mux_sel_M1',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs1',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_evict_mux_sel_M1',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='stall_M1',
                  ctx=Store())],
                value=BoolOp(
                  op=Or(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ostall_M1',
                      ctx=Load()),
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='ostall_M2',
                      ctx=Load())]))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_evict_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_refill_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_hit_clean_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='Bits1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegEnRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='en',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='reg_en_M2',
                    ctx=Load())),
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='val_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='val_M2',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_evict_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegEnRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='en',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='reg_en_M2',
                    ctx=Load())),
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_evict_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_evict_M2',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='hit_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegEnRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='en',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='reg_en_M2',
                    ctx=Load())),
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='hit_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Subscript(
                    value=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='hit_M2',
                      ctx=Load()),
                    slice=Index(value=Num(n=0)),
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_refill_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M2',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_refill_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_refill_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_refill_M2',
                    ctx=Load()))])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='is_write_hit_clean_reg_M2',
              ctx=Store())],
            value=Call(
              func=Call(
                func=Name(
                  id='RegRst',
                  ctx=Load()),
                args=[Name(
                  id='Bits1',
                  ctx=Load())],
                keywords=[]),
              args=[],
              keywords=[
                keyword(
                  arg='in_',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_hit_clean_M1',
                    ctx=Load())),
                keyword(
                  arg='out',
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_hit_clean_M2',
                    ctx=Load()))])),
          FunctionDef(
            name='en_M2',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[Assign(
              targets=[Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='reg_en_M2',
                ctx=Store())],
              value=UnaryOp(
                op=Invert(),
                operand=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='stall_M2',
                  ctx=Load())))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None),
          Assign(
            targets=[Name(
              id='CS_read_word_mux_sel_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=8),
                BinOp(
                  left=Num(n=8),
                  op=Add(),
                  right=Name(
                    id='rmx2',
                    ctx=Load()))],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_read_data_mux_sel_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=7),
                Num(n=8)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_ostall_M2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=6),
                Num(n=7)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_memreq_type',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=2),
                Num(n=6)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_memreq_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=1),
                Num(n=2)],
              keywords=[])),
          Assign(
            targets=[Name(
              id='CS_cacheresp_en',
              ctx=Store())],
            value=Call(
              func=Name(
                id='slice',
                ctx=Load()),
              args=[
                Num(n=0),
                Num(n=1)],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='cs2',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Call(
                func=Name(
                  id='mk_bits',
                  ctx=Load()),
                args=[BinOp(
                  left=Num(n=8),
                  op=Add(),
                  right=Name(
                    id='rmx2',
                    ctx=Load()))],
                keywords=[])],
              keywords=[])),
          Assign(
            targets=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='msel',
              ctx=Store())],
            value=Call(
              func=Name(
                id='Wire',
                ctx=Load()),
              args=[Name(
                id='BitsRdDataMux',
                ctx=Load())],
              keywords=[])),
          FunctionDef(
            name='comb_block_M2',
            args=arguments(
              args=[],
              vararg=None,
              kwonlyargs=[],
              kw_defaults=[],
              kwarg=None,
              defaults=[]),
            body=[
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='msel',
                  ctx=Store())],
                value=BinOp(
                  left=Call(
                    func=Name(
                      id='BitsRdDataMux',
                      ctx=Load()),
                    args=[Subscript(
                      value=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='offset_M2',
                        ctx=Load()),
                      slice=Slice(
                        lower=Num(n=2),
                        upper=Name(
                          id='ofw',
                          ctx=Load()),
                        step=None),
                      ctx=Load())],
                    keywords=[]),
                  op=Add(),
                  right=Call(
                    func=Name(
                      id='BitsRdDataMux',
                      ctx=Load()),
                    args=[Num(n=1)],
                    keywords=[]))),
              If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='val_M2',
                  ctx=Load()),
                body=[If(
                  test=BoolOp(
                    op=Or(),
                    values=[
                      UnaryOp(
                        op=Invert(),
                        operand=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='memreq_rdy',
                          ctx=Load())),
                      UnaryOp(
                        op=Invert(),
                        operand=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cacheresp_rdy',
                          ctx=Load()))]),
                  body=[Assign(
                    targets=[Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='cs2',
                      ctx=Store())],
                    value=Call(
                      func=Name(
                        id='concat',
                        ctx=Load()),
                      args=[
                        Name(
                          id='mxsel0',
                          ctx=Load()),
                        Call(
                          func=Name(
                            id='b1',
                            ctx=Load()),
                          args=[Num(n=0)],
                          keywords=[]),
                        Name(
                          id='y',
                          ctx=Load()),
                        Name(
                          id='READ',
                          ctx=Load()),
                        Name(
                          id='n',
                          ctx=Load()),
                        Name(
                          id='n',
                          ctx=Load())],
                      keywords=[]))],
                  orelse=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M2',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cs2',
                        ctx=Store())],
                      value=Call(
                        func=Name(
                          id='concat',
                          ctx=Load()),
                        args=[
                          Name(
                            id='mxsel0',
                            ctx=Load()),
                          Call(
                            func=Name(
                              id='b1',
                              ctx=Load()),
                            args=[Num(n=0)],
                            keywords=[]),
                          Name(
                            id='n',
                            ctx=Load()),
                          Name(
                            id='WRITE',
                            ctx=Load()),
                          Name(
                            id='y',
                            ctx=Load()),
                          Name(
                            id='n',
                            ctx=Load())],
                        keywords=[]))],
                    orelse=[If(
                      test=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='is_refill_M2',
                        ctx=Load()),
                      body=[If(
                        test=Compare(
                          left=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M2',
                            ctx=Load()),
                          ops=[Eq()],
                          comparators=[Name(
                            id='READ',
                            ctx=Load())]),
                        body=[Assign(
                          targets=[Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cs2',
                            ctx=Store())],
                          value=Call(
                            func=Name(
                              id='concat',
                              ctx=Load()),
                            args=[
                              Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='msel',
                                ctx=Load()),
                              Call(
                                func=Name(
                                  id='b1',
                                  ctx=Load()),
                                args=[Num(n=1)],
                                keywords=[]),
                              Name(
                                id='n',
                                ctx=Load()),
                              Name(
                                id='READ',
                                ctx=Load()),
                              Name(
                                id='n',
                                ctx=Load()),
                              Name(
                                id='y',
                                ctx=Load())],
                            keywords=[]))],
                        orelse=[If(
                          test=Compare(
                            left=Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cachereq_type_M2',
                              ctx=Load()),
                            ops=[Eq()],
                            comparators=[Name(
                              id='WRITE',
                              ctx=Load())]),
                          body=[Assign(
                            targets=[Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cs2',
                              ctx=Store())],
                            value=Call(
                              func=Name(
                                id='concat',
                                ctx=Load()),
                              args=[
                                Name(
                                  id='mxsel0',
                                  ctx=Load()),
                                Call(
                                  func=Name(
                                    id='b1',
                                    ctx=Load()),
                                  args=[Num(n=1)],
                                  keywords=[]),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='READ',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='y',
                                  ctx=Load())],
                              keywords=[]))],
                          orelse=[])])],
                      orelse=[If(
                        test=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='is_write_hit_clean_M2',
                          ctx=Load()),
                        body=[Assign(
                          targets=[Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cs2',
                            ctx=Store())],
                          value=Call(
                            func=Name(
                              id='concat',
                              ctx=Load()),
                            args=[
                              Name(
                                id='mxsel0',
                                ctx=Load()),
                              Call(
                                func=Name(
                                  id='b1',
                                  ctx=Load()),
                                args=[Num(n=0)],
                                keywords=[]),
                              Name(
                                id='n',
                                ctx=Load()),
                              Name(
                                id='READ',
                                ctx=Load()),
                              Name(
                                id='n',
                                ctx=Load()),
                              Name(
                                id='n',
                                ctx=Load())],
                            keywords=[]))],
                        orelse=[If(
                          test=Compare(
                            left=Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cachereq_type_M2',
                              ctx=Load()),
                            ops=[Eq()],
                            comparators=[Name(
                              id='INIT',
                              ctx=Load())]),
                          body=[Assign(
                            targets=[Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cs2',
                              ctx=Store())],
                            value=Call(
                              func=Name(
                                id='concat',
                                ctx=Load()),
                              args=[
                                Name(
                                  id='mxsel0',
                                  ctx=Load()),
                                Call(
                                  func=Name(
                                    id='b1',
                                    ctx=Load()),
                                  args=[Num(n=0)],
                                  keywords=[]),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='READ',
                                  ctx=Load()),
                                Name(
                                  id='n',
                                  ctx=Load()),
                                Name(
                                  id='y',
                                  ctx=Load())],
                              keywords=[]))],
                          orelse=[If(
                            test=Compare(
                              left=Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='cachereq_type_M2',
                                ctx=Load()),
                              ops=[Eq()],
                              comparators=[Name(
                                id='READ',
                                ctx=Load())]),
                            body=[If(
                              test=Subscript(
                                value=Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='hit_M2',
                                  ctx=Load()),
                                slice=Index(value=Num(n=0)),
                                ctx=Load()),
                              body=[Assign(
                                targets=[Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='cs2',
                                  ctx=Store())],
                                value=Call(
                                  func=Name(
                                    id='concat',
                                    ctx=Load()),
                                  args=[
                                    Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='msel',
                                      ctx=Load()),
                                    Call(
                                      func=Name(
                                        id='b1',
                                        ctx=Load()),
                                      args=[Num(n=0)],
                                      keywords=[]),
                                    Name(
                                      id='n',
                                      ctx=Load()),
                                    Name(
                                      id='READ',
                                      ctx=Load()),
                                    Name(
                                      id='n',
                                      ctx=Load()),
                                    Name(
                                      id='y',
                                      ctx=Load())],
                                  keywords=[]))],
                              orelse=[If(
                                test=UnaryOp(
                                  op=Invert(),
                                  operand=Subscript(
                                    value=Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='hit_M2',
                                      ctx=Load()),
                                    slice=Index(value=Num(n=0)),
                                    ctx=Load())),
                                body=[Assign(
                                  targets=[Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='cs2',
                                    ctx=Store())],
                                  value=Call(
                                    func=Name(
                                      id='concat',
                                      ctx=Load()),
                                    args=[
                                      Name(
                                        id='mxsel0',
                                        ctx=Load()),
                                      Call(
                                        func=Name(
                                          id='b1',
                                          ctx=Load()),
                                        args=[Num(n=0)],
                                        keywords=[]),
                                      Name(
                                        id='n',
                                        ctx=Load()),
                                      Name(
                                        id='READ',
                                        ctx=Load()),
                                      Name(
                                        id='y',
                                        ctx=Load()),
                                      Name(
                                        id='n',
                                        ctx=Load())],
                                    keywords=[]))],
                                orelse=[])])],
                            orelse=[If(
                              test=Compare(
                                left=Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='cachereq_type_M2',
                                  ctx=Load()),
                                ops=[Eq()],
                                comparators=[Name(
                                  id='WRITE',
                                  ctx=Load())]),
                              body=[If(
                                test=Attribute(
                                  value=Name(
                                    id='s',
                                    ctx=Load()),
                                  attr='is_write_refill_M2',
                                  ctx=Load()),
                                body=[Assign(
                                  targets=[Attribute(
                                    value=Name(
                                      id='s',
                                      ctx=Load()),
                                    attr='cs2',
                                    ctx=Store())],
                                  value=Call(
                                    func=Name(
                                      id='concat',
                                      ctx=Load()),
                                    args=[
                                      Name(
                                        id='mxsel0',
                                        ctx=Load()),
                                      Call(
                                        func=Name(
                                          id='b1',
                                          ctx=Load()),
                                        args=[Num(n=0)],
                                        keywords=[]),
                                      Name(
                                        id='n',
                                        ctx=Load()),
                                      Name(
                                        id='READ',
                                        ctx=Load()),
                                      Name(
                                        id='n',
                                        ctx=Load()),
                                      Name(
                                        id='n',
                                        ctx=Load())],
                                    keywords=[]))],
                                orelse=[If(
                                  test=Subscript(
                                    value=Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='hit_M2',
                                      ctx=Load()),
                                    slice=Index(value=Num(n=0)),
                                    ctx=Load()),
                                  body=[Assign(
                                    targets=[Attribute(
                                      value=Name(
                                        id='s',
                                        ctx=Load()),
                                      attr='cs2',
                                      ctx=Store())],
                                    value=Call(
                                      func=Name(
                                        id='concat',
                                        ctx=Load()),
                                      args=[
                                        Name(
                                          id='mxsel0',
                                          ctx=Load()),
                                        Call(
                                          func=Name(
                                            id='b1',
                                            ctx=Load()),
                                          args=[Num(n=0)],
                                          keywords=[]),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Name(
                                          id='READ',
                                          ctx=Load()),
                                        Name(
                                          id='n',
                                          ctx=Load()),
                                        Name(
                                          id='y',
                                          ctx=Load())],
                                      keywords=[]))],
                                  orelse=[If(
                                    test=UnaryOp(
                                      op=Invert(),
                                      operand=Subscript(
                                        value=Attribute(
                                          value=Name(
                                            id='s',
                                            ctx=Load()),
                                          attr='hit_M2',
                                          ctx=Load()),
                                        slice=Index(value=Num(n=0)),
                                        ctx=Load())),
                                    body=[Assign(
                                      targets=[Attribute(
                                        value=Name(
                                          id='s',
                                          ctx=Load()),
                                        attr='cs2',
                                        ctx=Store())],
                                      value=Call(
                                        func=Name(
                                          id='concat',
                                          ctx=Load()),
                                        args=[
                                          Name(
                                            id='mxsel0',
                                            ctx=Load()),
                                          Call(
                                            func=Name(
                                              id='b1',
                                              ctx=Load()),
                                            args=[Num(n=0)],
                                            keywords=[]),
                                          Name(
                                            id='n',
                                            ctx=Load()),
                                          Name(
                                            id='READ',
                                            ctx=Load()),
                                          Name(
                                            id='y',
                                            ctx=Load()),
                                          Name(
                                            id='n',
                                            ctx=Load())],
                                        keywords=[]))],
                                    orelse=[])])])],
                              orelse=[])])])])])])])],
                orelse=[Assign(
                  targets=[Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Store())],
                  value=Call(
                    func=Name(
                      id='concat',
                      ctx=Load()),
                    args=[
                      Name(
                        id='mxsel0',
                        ctx=Load()),
                      Call(
                        func=Name(
                          id='b1',
                          ctx=Load()),
                        args=[Num(n=0)],
                        keywords=[]),
                      Name(
                        id='n',
                        ctx=Load()),
                      Name(
                        id='READ',
                        ctx=Load()),
                      Name(
                        id='n',
                        ctx=Load()),
                      Name(
                        id='n',
                        ctx=Load())],
                    keywords=[]))]),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='memreq_en',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_memreq_en',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='cacheresp_en',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_cacheresp_en',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='read_word_mux_sel_M2',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_read_word_mux_sel_M2',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='read_data_mux_sel_M2',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_read_data_mux_sel_M2',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='memreq_type',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_memreq_type',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ostall_M2',
                  ctx=Store())],
                value=Subscript(
                  value=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cs2',
                    ctx=Load()),
                  slice=Index(value=Name(
                    id='CS_ostall_M2',
                    ctx=Load())),
                  ctx=Load())),
              Assign(
                targets=[Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='stall_M2',
                  ctx=Store())],
                value=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='ostall_M2',
                  ctx=Load()))],
            decorator_list=[Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='update',
              ctx=Load())],
            returns=None)],
        decorator_list=[],
        returns=None),
      FunctionDef(
        name='line_trace',
        args=arguments(
          args=[arg(
            arg='s',
            annotation=None)],
          vararg=None,
          kwonlyargs=[],
          kw_defaults=[],
          kwarg=None,
          defaults=[]),
        body=[
          Assign(
            targets=[Name(
              id='colors',
              ctx=Store())],
            value=Dict(
              keys=[
                Str(s='RED'),
                Str(s='GREEN'),
                Str(s='WHITE')],
              values=[
                Str(s='\x1b[91m'),
                Str(s='\x1b[92m'),
                Str(s='\x1b[0m')])),
          Assign(
            targets=[Name(
              id='types',
              ctx=Store())],
            value=List(
              elts=[
                Str(s='rd'),
                Str(s='wr'),
                Str(s='in')],
              ctx=Load())),
          Assign(
            targets=[Name(
              id='msg_M0',
              ctx=Store())],
            value=Str(s='  ')),
          If(
            test=Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M0',
              ctx=Load()),
            body=[If(
              test=BoolOp(
                op=And(),
                values=[
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_refill_M0',
                    ctx=Load()),
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='cachereq_rdy',
                    ctx=Load())]),
              body=[Assign(
                targets=[Name(
                  id='msg_M0',
                  ctx=Store())],
                value=Str(s='rf'))],
              orelse=[If(
                test=BoolOp(
                  op=And(),
                  values=[
                    Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_refill_M0',
                      ctx=Load()),
                    UnaryOp(
                      op=Not(),
                      operand=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cachereq_rdy',
                        ctx=Load()))]),
                body=[Assign(
                  targets=[Name(
                    id='msg_M0',
                    ctx=Store())],
                  value=Str(s='#r'))],
                orelse=[If(
                  test=BoolOp(
                    op=And(),
                    values=[
                      Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='is_write_hit_clean_M0',
                        ctx=Load()),
                      Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='cachereq_rdy',
                        ctx=Load())]),
                  body=[Assign(
                    targets=[Name(
                      id='msg_M0',
                      ctx=Store())],
                    value=Str(s='wc'))],
                  orelse=[If(
                    test=BoolOp(
                      op=And(),
                      values=[
                        Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='is_write_hit_clean_M0',
                          ctx=Load()),
                        UnaryOp(
                          op=Not(),
                          operand=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_rdy',
                            ctx=Load()))]),
                    body=[Assign(
                      targets=[Name(
                        id='msg_M0',
                        ctx=Store())],
                      value=Str(s='#w'))],
                    orelse=[If(
                      test=Attribute(
                        value=Name(
                          id='s',
                          ctx=Load()),
                        attr='is_write_refill_M0',
                        ctx=Load()),
                      body=[Assign(
                        targets=[Name(
                          id='msg_M0',
                          ctx=Store())],
                        value=Str(s='wf'))],
                      orelse=[If(
                        test=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='val_M0',
                          ctx=Load()),
                        body=[Assign(
                          targets=[Name(
                            id='msg_M0',
                            ctx=Store())],
                          value=Subscript(
                            value=Name(
                              id='types',
                              ctx=Load()),
                            slice=Index(value=Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cachereq_type_M0',
                              ctx=Load())),
                            ctx=Load()))],
                        orelse=[])])])])])])],
            orelse=[If(
              test=UnaryOp(
                op=Not(),
                operand=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='cachereq_rdy',
                  ctx=Load())),
              body=[Assign(
                targets=[Name(
                  id='msg_M0',
                  ctx=Store())],
                value=Str(s='# '))],
              orelse=[])]),
          Assign(
            targets=[Name(
              id='msg_M1',
              ctx=Store())],
            value=Str(s='  ')),
          If(
            test=Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M1',
              ctx=Load()),
            body=[If(
              test=Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='is_refill_M1',
                ctx=Load()),
              body=[Assign(
                targets=[Name(
                  id='msg_M1',
                  ctx=Store())],
                value=Str(s='rf'))],
              orelse=[If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_hit_clean_M1',
                  ctx=Load()),
                body=[Assign(
                  targets=[Name(
                    id='msg_M1',
                    ctx=Store())],
                  value=Str(s='wc'))],
                orelse=[If(
                  test=BoolOp(
                    op=And(),
                    values=[
                      UnaryOp(
                        op=Invert(),
                        operand=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='hit_M1',
                          ctx=Load())),
                      Compare(
                        left=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cachereq_type_M1',
                          ctx=Load()),
                        ops=[NotEq()],
                        comparators=[Num(n=2)])]),
                  body=[Assign(
                    targets=[Name(
                      id='msg_M1',
                      ctx=Store())],
                    value=BinOp(
                      left=BinOp(
                        left=Subscript(
                          value=Name(
                            id='colors',
                            ctx=Load()),
                          slice=Index(value=Str(s='RED')),
                          ctx=Load()),
                        op=Add(),
                        right=Subscript(
                          value=Name(
                            id='types',
                            ctx=Load()),
                          slice=Index(value=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M1',
                            ctx=Load())),
                          ctx=Load())),
                      op=Add(),
                      right=Subscript(
                        value=Name(
                          id='colors',
                          ctx=Load()),
                        slice=Index(value=Str(s='WHITE')),
                        ctx=Load())))],
                  orelse=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_write_refill_M1',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Name(
                        id='msg_M1',
                        ctx=Store())],
                      value=Str(s='wf'))],
                    orelse=[If(
                      test=BoolOp(
                        op=And(),
                        values=[
                          Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='hit_M1',
                            ctx=Load()),
                          Compare(
                            left=Attribute(
                              value=Name(
                                id='s',
                                ctx=Load()),
                              attr='cachereq_type_M1',
                              ctx=Load()),
                            ops=[NotEq()],
                            comparators=[Num(n=2)])]),
                      body=[Assign(
                        targets=[Name(
                          id='msg_M1',
                          ctx=Store())],
                        value=BinOp(
                          left=BinOp(
                            left=Subscript(
                              value=Name(
                                id='colors',
                                ctx=Load()),
                              slice=Index(value=Str(s='GREEN')),
                              ctx=Load()),
                            op=Add(),
                            right=Subscript(
                              value=Name(
                                id='types',
                                ctx=Load()),
                              slice=Index(value=Attribute(
                                value=Name(
                                  id='s',
                                  ctx=Load()),
                                attr='cachereq_type_M1',
                                ctx=Load())),
                              ctx=Load())),
                          op=Add(),
                          right=Subscript(
                            value=Name(
                              id='colors',
                              ctx=Load()),
                            slice=Index(value=Str(s='WHITE')),
                            ctx=Load())))],
                      orelse=[Assign(
                        targets=[Name(
                          id='msg_M1',
                          ctx=Store())],
                        value=Subscript(
                          value=Name(
                            id='types',
                            ctx=Load()),
                          slice=Index(value=Attribute(
                            value=Name(
                              id='s',
                              ctx=Load()),
                            attr='cachereq_type_M1',
                            ctx=Load())),
                          ctx=Load()))])])])])])],
            orelse=[]),
          Assign(
            targets=[Name(
              id='msg_M2',
              ctx=Store())],
            value=Str(s='  ')),
          If(
            test=Attribute(
              value=Name(
                id='s',
                ctx=Load()),
              attr='val_M2',
              ctx=Load()),
            body=[If(
              test=Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='is_refill_M2',
                ctx=Load()),
              body=[Assign(
                targets=[Name(
                  id='msg_M2',
                  ctx=Store())],
                value=Str(s='rf'))],
              orelse=[If(
                test=Attribute(
                  value=Name(
                    id='s',
                    ctx=Load()),
                  attr='is_write_hit_clean_M2',
                  ctx=Load()),
                body=[Assign(
                  targets=[Name(
                    id='msg_M2',
                    ctx=Store())],
                  value=Str(s='wc'))],
                orelse=[If(
                  test=Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='is_write_refill_M2',
                    ctx=Load()),
                  body=[Assign(
                    targets=[Name(
                      id='msg_M2',
                      ctx=Store())],
                    value=Str(s='wf'))],
                  orelse=[If(
                    test=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='is_evict_M2',
                      ctx=Load()),
                    body=[Assign(
                      targets=[Name(
                        id='msg_M2',
                        ctx=Store())],
                      value=Str(s='ev'))],
                    orelse=[Assign(
                      targets=[Name(
                        id='msg_M2',
                        ctx=Store())],
                      value=Subscript(
                        value=Name(
                          id='types',
                          ctx=Load()),
                        slice=Index(value=Attribute(
                          value=Name(
                            id='s',
                            ctx=Load()),
                          attr='cachereq_type_M2',
                          ctx=Load())),
                        ctx=Load()))])])])])],
            orelse=[]),
          Assign(
            targets=[Name(
              id='msg_memresp',
              ctx=Store())],
            value=IfExp(
              test=Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='memresp_en',
                ctx=Load()),
              body=Str(s='>'),
              orelse=Str(s=' '))),
          Assign(
            targets=[Name(
              id='msg_memreq',
              ctx=Store())],
            value=IfExp(
              test=Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='memreq_en',
                ctx=Load()),
              body=Str(s='>'),
              orelse=Str(s=' '))),
          Assign(
            targets=[Name(
              id='states',
              ctx=Store())],
            value=List(
              elts=[
                Str(s='Go'),
                Str(s='Rf'),
                Str(s='Ev'),
                Str(s='Wf'),
                Str(s='Wr')],
              ctx=Load())),
          Assign(
            targets=[Name(
              id='msg_state',
              ctx=Store())],
            value=Subscript(
              value=Name(
                id='states',
                ctx=Load()),
              slice=Index(value=Attribute(
                value=Name(
                  id='s',
                  ctx=Load()),
                attr='curr_state',
                ctx=Load())),
              ctx=Load())),
          Assign(
            targets=[Name(
              id='stage1',
              ctx=Store())],
            value=IfExp(
              test=BoolOp(
                op=And(),
                values=[
                  Compare(
                    left=Attribute(
                      value=Name(
                        id='s',
                        ctx=Load()),
                      attr='curr_state',
                      ctx=Load()),
                    ops=[Eq()],
                    comparators=[Name(
                      id='STATE_REFILL',
                      ctx=Load())]),
                  Attribute(
                    value=Name(
                      id='s',
                      ctx=Load()),
                    attr='memresp_en',
                    ctx=Load())]),
              body=Call(
                func=Attribute(
                  value=Str(s='{}|{}'),
                  attr='format',
                  ctx=Load()),
                args=[
                  Name(
                    id='msg_memresp',
                    ctx=Load()),
                  Name(
                    id='msg_M0',
                    ctx=Load())],
                keywords=[]),
              orelse=Call(
                func=Attribute(
                  value=Str(s='  {}'),
                  attr='format',
                  ctx=Load()),
                args=[Name(
                  id='msg_M0',
                  ctx=Load())],
                keywords=[]))),
          Assign(
            targets=[Name(
              id='stage2',
              ctx=Store())],
            value=Call(
              func=Attribute(
                value=Str(s='|{}'),
                attr='format',
                ctx=Load()),
              args=[Name(
                id='msg_M1',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Name(
              id='stage3',
              ctx=Store())],
            value=Call(
              func=Attribute(
                value=Str(s='|{}{}'),
                attr='format',
                ctx=Load()),
              args=[
                Name(
                  id='msg_M2',
                  ctx=Load()),
                Name(
                  id='msg_memreq',
                  ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Name(
              id='state',
              ctx=Store())],
            value=Call(
              func=Attribute(
                value=Str(s=' [{}]'),
                attr='format',
                ctx=Load()),
              args=[Name(
                id='msg_state',
                ctx=Load())],
              keywords=[])),
          Assign(
            targets=[Name(
              id='pipeline',
              ctx=Store())],
            value=BinOp(
              left=BinOp(
                left=BinOp(
                  left=Name(
                    id='stage1',
                    ctx=Load()),
                  op=Add(),
                  right=Name(
                    id='stage2',
                    ctx=Load())),
                op=Add(),
                right=Name(
                  id='stage3',
                  ctx=Load())),
              op=Add(),
              right=Name(
                id='state',
                ctx=Load()))),
          Return(value=Name(
            id='pipeline',
            ctx=Load()))],
        decorator_list=[],
        returns=None)],
    decorator_list=[])])